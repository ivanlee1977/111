*&---------------------------------------------------------------------*
*&  包含                ZRPFI009_TOP
*&---------------------------------------------------------------------*
TYPE-POOLS:truxs,slis.
DATA:xlstab TYPE truxs_t_text_data.
TABLES:bsik,t001.
********************ALV 事件****************
DATA: it_fieldcat TYPE slis_t_fieldcat_alv,
      wa_fieldcat LIKE LINE OF it_fieldcat,
      gs_layout   TYPE slis_layout_alv.
DATA: dyn    TYPE smp_dyntxt,
      g_file LIKE rlgrap-filename.

DATA:BEGIN OF gw_item,"展示内表
       lifnr       LIKE bsik-lifnr, "客户编码
       name1       LIKE kna1-name1, "客户描述
       waers       LIKE bsik-waers,
       bukrs       LIKE bsik-bukrs, "公司
       prctr       LIKE bsik-prctr, "利润中心
       hkont       LIKE bsik-hkont, "总账科目
       budat       LIKE bsik-budat, "过账时间
       dmbtr       LIKE bsik-dmbtr, " 本位币
       xnegp       LIKE bsik-xnegp, "反记账标志
       shkzg       LIKE bsik-shkzg, "借贷标志
       qc_dmbtr    LIKE bsik-dmbtr, " 期初值
       jf_dmbtr    LIKE bsik-dmbtr, " 本期借方
       df_dmbtr    LIKE bsik-dmbtr, " 本期贷方
       zl_dmbtr    LIKE bsik-dmbtr, "符合账龄计算的本期借方
       qm_dmbtr    LIKE bsik-dmbtr, " 期末值
       sum_dmbtr   LIKE bsik-dmbtr, "合计
       field_style TYPE lvc_t_styl, " 为内表添加设置编辑状态所需的字段
       sel(1)      TYPE c,
       belnr       LIKE bsik-belnr,
       gjahr       LIKE bsik-gjahr,
       buzei       LIKE bsik-buzei,
***ADD BY QUYANTAO 2018.01.09
       rebzg       LIKE bsik-rebzg,
     END OF gw_item.
DATA:gt_item LIKE gw_item OCCURS 0.
DATA:gw_main LIKE gw_item,
     gt_main LIKE gw_item OCCURS 0.


DATA:gt_bsak LIKE bsak OCCURS 0 WITH HEADER LINE,
     gt_bsik LIKE bsik OCCURS 0 WITH HEADER LINE.

DATA:BEGIN OF gt_bsis OCCURS 0.
    INCLUDE STRUCTURE  bsis.
DATA:lifnr LIKE bseg-lifnr,
     END OF gt_bsis.

DATA:BEGIN OF gt_bsas OCCURS 0.
    INCLUDE STRUCTURE  bsas.
DATA:lifnr LIKE bseg-lifnr,
     END OF gt_bsas.

DATA:BEGIN OF it_pdate OCCURS 0,
       lv_date(20) TYPE c,
       date        TYPE idcn_segm,
     END OF it_pdate.

DATA:BEGIN OF gt_pdate OCCURS 0,
       lifnr       LIKE bsik-lifnr, "客户编码
       lv_date(20) TYPE c,
       dmbtr       LIKE bsik-dmbtr, " 值
     END OF gt_pdate.


DATA:lg_num(2) TYPE c.

DATA: i_grid_settings TYPE lvc_s_glay.


**********动态内表定义**************************
FIELD-SYMBOLS:<dynitab> TYPE STANDARD TABLE, "Dynamic internal table
              <dynwa>   TYPE any,            "Dynamic work area
              <field> .           "Field
DATA: fieldcat        TYPE lvc_t_fcat,
      fieldcat_ln     TYPE lvc_s_fcat,
      g_user_command  TYPE slis_formname VALUE 'USER_COMMAND',
      git_events      TYPE slis_t_event,   "ALV 事件
      i_list_comments TYPE slis_t_listheader, "用来填充表单标题区域的数据类型
      ps_layout       TYPE lvc_s_layo.

DATA: cl_stru    TYPE REF TO cl_abap_structdescr,
      cl_tabl    TYPE REF TO cl_abap_tabledescr,
      cl_handle  TYPE REF TO data,
      cl_strue   TYPE REF TO data,
      compdesc   TYPE abap_componentdescr,
      components TYPE abap_component_tab.

DATA:
  wa_flname(30) TYPE c,
  wa_field(30),
  t_quan        TYPE p DECIMALS 0,
  c_quan        TYPE p DECIMALS 2,
  zmng          TYPE string,
  box(30)       TYPE c,
*     hkl TYPE char20,
  t_style       TYPE lvc_t_styl,
  t_color       TYPE lvc_t_scol,
  w_color       TYPE lvc_s_scol,
  tline(4),
  stylelin      TYPE lvc_s_styl.
